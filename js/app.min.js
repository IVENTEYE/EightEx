(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector(".header");if(o){const u=document.querySelector(".header__wrapper").clientHeight;window.addEventListener("scroll",(()=>{window.pageYOffset>=28?(document.querySelector(".header__block").style.height=u-30+"px",document.querySelector(".header__block").style.display="block",document.querySelector(".page").style.marginTop="0",o.classList.add("_scroll")):(document.querySelector(".header__block").style.display="none",o.classList.remove("_scroll"),document.querySelector(".page").style.marginTop="-93px")}))}const n=document.querySelector(".menu__icon"),s=document.querySelector(".menu");n&&n.addEventListener("click",(()=>{n.classList.toggle("_active"),s.classList.toggle("_active"),document.body.classList.toggle("lock")})),document.addEventListener("touchmove",(function(e){document.body.scrollTop<0&&e.preventDefault()}));let i=(e,t,o=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=o+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=t+"px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),o))},r=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.height="252px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.classList.remove("_slide")}),t)}};const l=document.querySelectorAll(".item-review");if(l.length>0)for(let g of l){const h=g.querySelector(".item-review__text"),f=g.querySelector(".item-review__button"),v=h.textContent,L=v.slice(0,262)+"...";if(h.textContent.length>290){h.textContent=L,g.classList.add("more");let _=g.offsetHeight;function S(){_=g.offsetHeight}setTimeout(S,2500),window.addEventListener("resize",S),f.addEventListener("click",(()=>{f.classList.toggle("hide"),f.classList.contains("hide")?(h.textContent=v,r(g,200),f.textContent="Скрыть полный отзыв"):(h.textContent=L,i(g,_,200),f.textContent="Смотреть полный отзыв")}))}}const c=document.querySelectorAll(".popup-link"),a=document.querySelector("body"),d=document.querySelectorAll(".lock-padding");let p=!0;c.length>0&&c.forEach((e=>{e.addEventListener("click",(function(t){const o=e.getAttribute("href").replace("#","");!function(e){if(e&&p){const t=document.querySelector(".popup.active");t?y(t,!1):function(){const e=window.innerWidth-document.querySelector(".page").offsetWidth+"px";d.langth>0&&d.forEach((t=>{t.style.paddingRight=e})),a.style.paddingRight=e,a.classList.add("lock"),s.classList.contains("_active")&&(n.classList.remove("_active"),s.classList.remove("_active")),p=!1,setTimeout((function(){p=!0}),800)}(),e.classList.add("active"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||y(e.target.closest(".popup"))}))}}(document.getElementById(o)),t.preventDefault()}))}));const m=document.querySelectorAll(".close-popup");function y(e,t=!0){p&&(e.classList.remove("active"),t&&(setTimeout((function(){d.length>0&&d.forEach((e=>{e.style.paddingRight="0px"})),a.style.paddingRight="0px",a.classList.remove("lock")}),800),p=!1,setTimeout((function(){p=!0}),800)))}m.length>0&&m.forEach((e=>{e.addEventListener("click",(function(t){y(e.closest(".popup")),t.preventDefault()}))})),document.addEventListener("keydown",(e=>{27===e.which&&y(document.querySelector(".popup.active"))})),Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)})();