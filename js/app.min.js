(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector(".header");if(o){const e=document.querySelector(".header__wrapper").clientHeight;window.addEventListener("scroll",(()=>{window.pageYOffset>=28?(document.querySelector(".header__block").style.height=e-30+"px",document.querySelector(".header__block").style.display="block",document.querySelector(".page").style.marginTop="0",o.classList.add("_scroll")):(document.querySelector(".header__block").style.display="none",o.classList.remove("_scroll"),document.querySelector(".page").style.marginTop="-93px")}))}const s=document.querySelector(".menu__icon");if(s){const e=document.querySelector(".menu");s.addEventListener("click",(()=>{s.classList.toggle("_active"),e.classList.toggle("_active"),document.body.classList.toggle("_lock")}))}document.addEventListener("touchmove",(function(e){document.body.scrollTop<0&&e.preventDefault()}));let r=(e,t,o=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=o+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=t+"px",console.log(t),e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),o))},i=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.height="252px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.classList.remove("_slide")}),t)}};const n=document.querySelectorAll(".item-review");if(n.length>0)for(let e of n){const t=e.querySelector(".item-review__text"),o=t.textContent,s=o.slice(0,262)+"...",n=e.querySelector(".item-review__button");if(t.textContent.length>290){t.textContent=s,e.classList.add("more");const l=e.offsetHeight;n.addEventListener("click",(()=>{n.classList.toggle("hide"),n.classList.contains("hide")?(t.textContent=o,i(e,200),n.textContent="Скрыть полный отзыв"):(t.textContent=s,r(e,l,200),n.textContent="Смотреть полный отзыв")}))}}})();